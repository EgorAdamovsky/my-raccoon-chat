<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Регистрация</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="back">

<form class="main-reg" action="/reg" method="get">
    <div>Введите ник:</div>
    <input class="input-reg" name="nick" id="nick" type="text">
    <input type="button" value="Войти" onclick="Reg()">
</form>

<script>
    function Reg() {
        let req = new XMLHttpRequest();
        req.open('POST', '/reg', true);
        req.setRequestHeader('Content-type', 'application/json; charset=utf8');
        const obj = {body: document.getElementById("nick").value};
        req.onload = function () {
            console.log(req.responseText)
            window.location.href = "client.html?nick=" + req.responseText.replaceAll("\"", "").replaceAll(" ", "-");
        }
        req.send(JSON.stringify(obj));
    }
</script>

</body>
</html>